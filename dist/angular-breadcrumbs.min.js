/**
 * Easy to use Breadcrumbs for AngularJS
 * @version v0.0.1 - 2015-01-07 * @link https://github.com/jacobscarter/angular-breadcrumbs
 * @author Jacob Carter <jacob@ieksolutions.com>
 * @license MIT License, http://www.opensource.org/licenses/MIT
 */
angular.module("templates-jscBreadcrumbs",["template.html"]),angular.module("template.html",[]).run(["$templateCache",function(a){a.put("template.html",'<div class="back-button" ng-hide="hide" ng-click="backButton()">\n	<a>BACK</a>\n</div>')}]);var jscBreadcrumbs=angular.module("jscBreadcrumbs",["templates-jscBreadcrumbs"]);jscBreadcrumbs.directive("jscBreadcrumbs",["$rootScope","$log","$state","$stateParams","JSCBreadcrumbs",function(a,b,c,d,e){return{restrict:"E",scope:!0,replace:!0,templateUrl:"template.html",link:function(b){function f(a){sessionStorage.setItem("jscBreadcrumbs",JSON.stringify(a))}function g(){h=JSON.parse(sessionStorage.getItem("jscBreadcrumbs"))}var h,i=[];h=sessionStorage.getItem("jscBreadcrumbs")&&angular.isArray(JSON.parse(sessionStorage.getItem("jscBreadcrumbs")))?JSON.parse(sessionStorage.getItem("jscBreadcrumbs")):[],d.breadcrumbs&&d.breadcrumbs.doNotShow===!0&&(e.breadcrumbData.hide=!0),b.hide=e.breadcrumbData.hide,a.$on("$stateChangeStart",function(a,c,d,f,g){sessionStorage.getItem("jscBreadcrumbs")&&angular.isArray(JSON.parse(sessionStorage.getItem("jscBreadcrumbs")))&&(h=JSON.parse(sessionStorage.getItem("jscBreadcrumbs")));for(var j in i)f.name===i[j]&&(h.length=0);d.breadcrumbs&&d.breadcrumbs.doNotShow===!0?(e.breadcrumbData.hide=!0,b.hide=e.breadcrumbData.hide):(e.breadcrumbData.hide=!1,b.hide=e.breadcrumbData.hide),f.name.length>0&&(h.push({state:f,params:g}),firstLoop=!1),g.breadcrumbs&&g.breadcrumbs.doNotStore&&b.breadcrumbPop(),sessionStorage.setItem("jscBreadcrumbs",JSON.stringify(h)),0===h.length&&(e.breadcrumbData.hide=!0,b.hide=e.breadcrumbData.hide)}),b.breadcrumbPop=function(){h.pop(),f(h)},b.backButton=function(){g();var a=h[h.length-1];c.go(a.state.name,a.params),h.splice(h.length-2,2),sessionStorage.setItem("jscBreadcrumbs",JSON.stringify(h)),0===h.length&&(e.breadcrumbData.hide=!0,b.hide=e.breadcrumbData.hide=!0,sessionStorage.removeItem("jscBreadcrumbs"))}}}}]),jscBreadcrumbs.factory("JSCBreadcrumbs",["$rootScope","$state","$log","$timeout",function(){var a=[],b={};b.hide=!1;var c=function(){a=JSON.parse(sessionStorage.getItem("jscBreadcrumbs")),a.pop(),sessionStorage.setItem("jscBreadcrumbs",JSON.stringify(a))},d=function(){return a=JSON.parse(sessionStorage.getItem("jscBreadcrumbs"))};return{breadcrumbs:d,breadcrumbsPop:c,breadcrumbData:b}}]);